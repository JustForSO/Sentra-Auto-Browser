<?xml version="1.0" encoding="UTF-8"?>
<svg width="800" height="600" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .box { fill: #e1f5fe; stroke: #0277bd; stroke-width: 2; rx: 8; }
      .decision { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; }
      .success { fill: #c8e6c9; stroke: #388e3c; stroke-width: 2; rx: 8; }
      .error { fill: #ffcdd2; stroke: #d32f2f; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 12px; text-anchor: middle; dominant-baseline: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Start -->
  <rect class="box" x="350" y="20" width="100" height="40"/>
  <text class="text" x="400" y="40">开始任务</text>
  
  <!-- Page Analysis -->
  <rect class="box" x="350" y="90" width="100" height="40"/>
  <text class="text" x="400" y="110">页面分析</text>
  
  <!-- Page Loaded Decision -->
  <polygon class="decision" points="350,160 400,140 450,160 400,180"/>
  <text class="text" x="400" y="160" font-size="10">页面是否加载完成?</text>
  
  <!-- Smart Wait -->
  <rect class="box" x="200" y="140" width="100" height="40"/>
  <text class="text" x="250" y="160">智能等待</text>
  
  <!-- DOM Detection -->
  <rect class="box" x="350" y="220" width="100" height="40"/>
  <text class="text" x="400" y="240">DOM元素检测</text>
  
  <!-- Element Recognition -->
  <rect class="box" x="350" y="290" width="100" height="40"/>
  <text class="text" x="400" y="310">识别可交互元素</text>
  
  <!-- Operation Type Decision -->
  <polygon class="decision" points="350,370 400,350 450,370 400,390"/>
  <text class="text" x="400" y="370" font-size="10">执行操作类型</text>
  
  <!-- Operations -->
  <rect class="box" x="100" y="430" width="80" height="30"/>
  <text class="text" x="140" y="445" font-size="10">点击操作</text>
  
  <rect class="box" x="200" y="430" width="80" height="30"/>
  <text class="text" x="240" y="445" font-size="10">输入操作</text>
  
  <rect class="box" x="300" y="430" width="80" height="30"/>
  <text class="text" x="340" y="445" font-size="10">滚动操作</text>
  
  <rect class="box" x="400" y="430" width="80" height="30"/>
  <text class="text" x="440" y="445" font-size="10">页面导航</text>
  
  <!-- Screenshot Monitoring -->
  <rect class="box" x="350" y="490" width="100" height="40"/>
  <text class="text" x="400" y="510">截图监控</text>
  
  <!-- Success Check -->
  <polygon class="decision" points="550,510 600,490 650,510 600,530"/>
  <text class="text" x="600" y="510" font-size="10">操作是否成功?</text>
  
  <!-- Error Recovery -->
  <rect class="error" x="650" y="430" width="100" height="40"/>
  <text class="text" x="700" y="450">错误恢复机制</text>
  
  <!-- Tab Management -->
  <rect class="success" x="550" y="350" width="100" height="40"/>
  <text class="text" x="600" y="370">任务完成</text>
  
  <!-- Arrows -->
  <line class="arrow" x1="400" y1="60" x2="400" y2="90"/>
  <line class="arrow" x1="400" y1="130" x2="400" y2="140"/>
  <line class="arrow" x1="350" y1="160" x2="300" y2="160"/>
  <line class="arrow" x1="250" y1="140" x2="250" y2="120"/>
  <line class="arrow" x1="250" y1="120" x2="380" y2="120"/>
  <line class="arrow" x1="400" y1="180" x2="400" y2="220"/>
  <line class="arrow" x1="400" y1="260" x2="400" y2="290"/>
  <line class="arrow" x1="400" y1="330" x2="400" y2="350"/>
  
  <!-- Operation arrows -->
  <line class="arrow" x1="380" y1="380" x2="140" y2="430"/>
  <line class="arrow" x1="390" y1="385" x2="240" y2="430"/>
  <line class="arrow" x1="410" y1="385" x2="340" y2="430"/>
  <line class="arrow" x1="420" y1="380" x2="440" y2="430"/>
  
  <!-- Convergence to monitoring -->
  <line class="arrow" x1="140" y1="460" x2="380" y2="500"/>
  <line class="arrow" x1="240" y1="460" x2="390" y2="500"/>
  <line class="arrow" x1="340" y1="460" x2="400" y2="490"/>
  <line class="arrow" x1="440" y1="460" x2="410" y2="500"/>
  
  <line class="arrow" x1="450" y1="510" x2="550" y2="510"/>
  <line class="arrow" x1="650" y1="510" x2="700" y2="470"/>
  <line class="arrow" x1="700" y1="430" x2="620" y2="400"/>
  <line class="arrow" x1="620" y1="400" x2="400" y2="390"/>
  <line class="arrow" x1="600" y1="490" x2="600" y2="390"/>
  
  <!-- Labels -->
  <text class="text" x="320" y="150" font-size="10">否</text>
  <text class="text" x="420" y="200" font-size="10">是</text>
  <text class="text" x="620" y="480" font-size="10">是</text>
  <text class="text" x="680" y="520" font-size="10">否</text>
</svg>

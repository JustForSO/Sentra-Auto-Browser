<?xml version="1.0" encoding="UTF-8"?>
<svg width="900" height="650" xmlns="http://www.w3.org/2000/svg">
  <defs>
    <style>
      .input-box { fill: #e3f2fd; stroke: #1976d2; stroke-width: 2; rx: 8; }
      .ai-box { fill: #f3e5f5; stroke: #7b1fa2; stroke-width: 2; rx: 8; }
      .process-box { fill: #fff3e0; stroke: #f57c00; stroke-width: 2; rx: 8; }
      .decision { fill: #fff9c4; stroke: #f9a825; stroke-width: 2; }
      .success { fill: #c8e6c9; stroke: #388e3c; stroke-width: 2; rx: 8; }
      .learning { fill: #e8f5e8; stroke: #4caf50; stroke-width: 2; rx: 8; }
      .text { font-family: Arial, sans-serif; font-size: 11px; text-anchor: middle; dominant-baseline: middle; }
      .small-text { font-family: Arial, sans-serif; font-size: 9px; text-anchor: middle; dominant-baseline: middle; }
      .arrow { stroke: #333; stroke-width: 2; fill: none; marker-end: url(#arrowhead); }
      .group-border { fill: none; stroke: #666; stroke-width: 1; stroke-dasharray: 5,5; rx: 10; }
    </style>
    <marker id="arrowhead" markerWidth="10" markerHeight="7" refX="9" refY="3.5" orient="auto">
      <polygon points="0 0, 10 3.5, 0 7" fill="#333" />
    </marker>
  </defs>
  
  <!-- Input Phase -->
  <rect class="input-box" x="50" y="50" width="100" height="40"/>
  <text class="text" x="100" y="70">自然语言任务</text>
  
  <rect class="process-box" x="200" y="50" width="80" height="40"/>
  <text class="text" x="240" y="70">任务解析</text>
  
  <rect class="process-box" x="320" y="50" width="80" height="40"/>
  <text class="text" x="360" y="70">页面截图</text>
  
  <rect class="process-box" x="440" y="50" width="80" height="40"/>
  <text class="text" x="480" y="65">DOM信息</text>
  <text class="text" x="480" y="75">提取</text>
  
  <!-- AI Core Group -->
  <rect class="group-border" x="30" y="130" width="520" height="180"/>
  <text class="small-text" x="60" y="150">AI核心</text>
  
  <rect class="ai-box" x="50" y="160" width="100" height="40"/>
  <text class="text" x="100" y="180">AI模型分析</text>
  
  <!-- Decision Types -->
  <polygon class="decision" points="250,180 300,160 350,180 300,200"/>
  <text class="small-text" x="300" y="180">决策类型</text>
  
  <rect class="ai-box" x="50" y="240" width="90" height="35"/>
  <text class="small-text" x="95" y="252">基于截图</text>
  <text class="small-text" x="95" y="263">分析</text>
  
  <rect class="ai-box" x="180" y="240" width="90" height="35"/>
  <text class="small-text" x="225" y="252">基于DOM</text>
  <text class="small-text" x="225" y="263">分析</text>
  
  <rect class="ai-box" x="310" y="240" width="90" height="35"/>
  <text class="small-text" x="355" y="252">历史行为</text>
  <text class="small-text" x="355" y="263">分析</text>
  
  <rect class="process-box" x="450" y="240" width="80" height="35"/>
  <text class="text" x="490" y="257">元素定位</text>
  
  <!-- Execution Phase -->
  <rect class="process-box" x="600" y="160" width="80" height="40"/>
  <text class="small-text" x="640" y="175">操作策略</text>
  <text class="small-text" x="640" y="185">生成</text>
  
  <rect class="process-box" x="600" y="240" width="80" height="40"/>
  <text class="text" x="640" y="260">执行计划</text>
  
  <rect class="process-box" x="600" y="320" width="80" height="40"/>
  <text class="text" x="640" y="340">操作执行</text>
  
  <!-- Validation -->
  <rect class="process-box" x="600" y="400" width="80" height="40"/>
  <text class="text" x="640" y="420">结果验证</text>
  
  <polygon class="decision" points="600,480 640,460 680,480 640,500"/>
  <text class="small-text" x="640" y="480">是否成功?</text>
  
  <!-- Learning System Group -->
  <rect class="group-border" x="30" y="520" width="520" height="100"/>
  <text class="small-text" x="60" y="540">学习系统</text>
  
  <rect class="learning" x="50" y="550" width="80" height="35"/>
  <text class="text" x="90" y="567">学习反馈</text>
  
  <rect class="learning" x="180" y="550" width="80" height="35"/>
  <text class="text" x="220" y="567">策略调整</text>
  
  <rect class="success" x="350" y="550" width="80" height="35"/>
  <text class="text" x="390" y="567">成功记录</text>
  
  <rect class="learning" x="450" y="550" width="80" height="35"/>
  <text class="small-text" x="490" y="562">知识库</text>
  <text class="small-text" x="490" y="572">更新</text>
  
  <!-- Arrows -->
  <line class="arrow" x1="150" y1="70" x2="200" y2="70"/>
  <line class="arrow" x1="280" y1="70" x2="320" y2="70"/>
  <line class="arrow" x1="400" y1="70" x2="440" y2="70"/>
  <line class="arrow" x1="480" y1="90" x2="480" y2="120"/>
  <line class="arrow" x1="480" y1="120" x2="100" y2="120"/>
  <line class="arrow" x1="100" y1="120" x2="100" y2="160"/>
  
  <line class="arrow" x1="150" y1="180" x2="250" y2="180"/>
  
  <!-- Decision branches -->
  <line class="arrow" x1="270" y1="170" x2="95" y2="240"/>
  <line class="arrow" x1="300" y1="200" x2="225" y2="240"/>
  <line class="arrow" x1="330" y1="170" x2="355" y2="240"/>
  
  <!-- Convergence to element location -->
  <line class="arrow" x1="140" y1="257" x2="450" y2="257"/>
  <line class="arrow" x1="270" y1="257" x2="450" y2="257"/>
  <line class="arrow" x1="400" y1="257" x2="450" y2="257"/>
  
  <!-- Execution flow -->
  <line class="arrow" x1="530" y1="257" x2="600" y2="180"/>
  <line class="arrow" x1="640" y1="200" x2="640" y2="240"/>
  <line class="arrow" x1="640" y1="280" x2="640" y2="320"/>
  <line class="arrow" x1="640" y1="360" x2="640" y2="400"/>
  <line class="arrow" x1="640" y1="440" x2="640" y2="460"/>
  
  <!-- Success/Failure paths -->
  <line class="arrow" x1="680" y1="480" x2="720" y2="480"/>
  <line class="arrow" x1="720" y1="480" x2="720" y2="567"/>
  <line class="arrow" x1="720" y1="567" x2="430" y2="567"/>
  <line class="arrow" x1="430" y1="567" x2="530" y2="567"/>
  
  <line class="arrow" x1="600" y1="480" x2="90" y2="480"/>
  <line class="arrow" x1="90" y1="480" x2="90" y2="550"/>
  <line class="arrow" x1="130" y1="567" x2="180" y2="567"/>
  <line class="arrow" x1="220" y1="550" x2="220" y2="200"/>
  <line class="arrow" x1="220" y1="200" x2="600" y2="200"/>
  <line class="arrow" x1="600" y1="200" x2="600" y2="160"/>
  
  <!-- Labels -->
  <text class="small-text" x="700" y="470">是</text>
  <text class="small-text" x="550" y="470">否</text>
  <text class="small-text" x="280" y="155">视觉理解</text>
  <text class="small-text" x="300" y="225">结构分析</text>
  <text class="small-text" x="320" y="155">上下文理解</text>
</svg>

# ===========================================
# Sentra Auto Browser 完整环境配置示例
# ===========================================
# 复制此文件为 .env 并填入你的实际配置

# 多供应商配置策略 - 决定如何选择和使用多个API端点
# 支持的策略: 'round_robin' | 'priority' | 'load_balance' | 'failover' | 'random'
# - priority: 按优先级顺序使用
# - round_robin: 轮询使用所有可用的API
# - load_balance: 基于响应时间的智能负载均衡
# - failover: 故障转移，主API失败时快速切换
# - random: 随机选择可用的API
LLM_STRATEGY=priority

# 模型参数配置
# 控制AI模型的创造性和输出长度
LLM_TEMPERATURE=0                    # 温度值(0-1)，0=确定性，1=创造性
LLM_MAX_TOKENS=4000                  # 最大输出token数量

# 请求重试配置 - 提高系统可靠性
LLM_MAX_RETRIES=3                    # 最大重试次数（建议1-5）
LLM_RETRY_DELAY=1000                 # 重试延迟毫秒数（建议500-2000）
LLM_TIMEOUT=30000                    # 请求超时毫秒数（建议10000-60000）

# 负载均衡配置 - 优化多端点性能
LLM_LOAD_BALANCE_WINDOW=100          # 统计窗口大小（用于计算平均响应时间）
LLM_HEALTH_CHECK_INTERVAL=60000      # 健康检查间隔毫秒数（建议30000-120000）
LLM_FAILURE_THRESHOLD=3              # 失败阈值（连续失败多少次标记为不健康）
LLM_RECOVERY_THRESHOLD=5             # 恢复阈值（连续成功多少次恢复健康状态）

# 用户控制选项 - 高级配置，完全控制系统行为
# 重要：如果不希望任何API密钥被禁用，请启用下面这个选项
LLM_DISABLE_HEALTH_CHECK=true       # 禁用健康检查（所有端点始终可用，永不禁用）
# LLM_ALWAYS_RETRY_ALL=true           # 总是重试所有端点（忽略策略，依次尝试所有端点）
# LLM_ENABLE_FALLBACK_MODE=false      # 禁用回退模式（遇到错误时不尝试不健康的端点）
# LLM_STRICT_MODE=true                # 严格模式（遇到错误立即停止，不重试）
# LLM_DEBUG_MODE=true                 # 调试模式（输出详细日志，用于问题排查）

# ===========================================
# OpenAI 配置 - 支持多密钥和多端点
# ===========================================

# 多个API密钥配置（用逗号分隔）
# 如果密钥数量与端点数量相同，将按位置一一对应
# 如果数量不同，将随机分配密钥到端点
OPENAI_API_KEYS=your_openai_api_key_1,your_openai_api_key_2,your_openai_api_key_3

# 多个API端点配置（用逗号分隔）
OPENAI_BASE_URLS=https://api.openai.com/v1,https://yuanplus.cloud/v1,https://api.deepseek.com/v1

# 模型配置（支持多模型，用逗号分隔）
OPENAI_MODELS=gpt-4o,gpt-4-turbo,gpt-3.5-turbo

# 优先级配置（数字越小优先级越高，用逗号分隔）
OPENAI_PRIORITIES=1,2,3

# 权重配置（用于负载均衡，用逗号分隔）
OPENAI_WEIGHTS=50,30,20

# ===========================================
# Google Gemini 配置 - 支持多密钥和多端点
# ===========================================

# 多个API密钥配置
GOOGLE_API_KEYS=your_google_api_key_1,your_google_api_key_2

# 多个API端点配置
GOOGLE_BASE_URLS=https://generativelanguage.googleapis.com/v1beta/,https://api-proxy.me/gemini/v1beta/

# 模型配置
GOOGLE_MODELS=gemini-2.5-flash,gemini-2.5-pro

# 优先级配置
GOOGLE_PRIORITIES=1,2

# 权重配置
GOOGLE_WEIGHTS=70,30

# ===========================================
# Claude 配置 - 支持多密钥和多端点
# ===========================================

# 多个API密钥配置
ANTHROPIC_API_KEYS=your_anthropic_api_key_1,your_anthropic_api_key_2

# 多个API端点配置
ANTHROPIC_BASE_URLS=https://api.anthropic.com,https://api-proxy.anthropic.com

# 模型配置
ANTHROPIC_MODELS=claude-3-5-sonnet-20241022,claude-3-haiku-20240307

# 优先级配置
ANTHROPIC_PRIORITIES=1,2

# 权重配置
ANTHROPIC_WEIGHTS=80,20

# ===========================================
# 浏览器基础配置
# ===========================================

# 是否使用无头模式 (true/false)
BROWSER_HEADLESS=false

# 浏览器视窗大小
BROWSER_VIEWPORT_WIDTH=1280
BROWSER_VIEWPORT_HEIGHT=720
# 兼容性别名
BROWSER_WIDTH=1280
BROWSER_HEIGHT=720

# 浏览器超时时间 (毫秒)
BROWSER_TIMEOUT=30000

# 用户数据目录 (可选，用于保持登录状态)
BROWSER_USER_DATA_DIR=./user-data

# 浏览器可执行文件路径 (可选)
# BROWSER_EXECUTABLE_PATH=C:\Program Files\Google\Chrome\Application\chrome.exe
# BROWSER_EXECUTABLE_PATH=C:\Program Files (x86)\Microsoft\Edge\Application\msedge.exe

# 自动安装浏览器 (true/false)
BROWSER_AUTO_INSTALL=true

# 浏览器语言设置
BROWSER_LOCALE=zh-CN

# 时区设置
BROWSER_TIMEZONE=Asia/Shanghai

# 颜色主题 (light/dark/no-preference)
BROWSER_COLOR_SCHEME=light

# 浏览器启动参数 (逗号分隔)
# BROWSER_ARGS=--no-sandbox,--disable-dev-shm-usage

# 下载配置
BROWSER_ACCEPT_DOWNLOADS=true
BROWSER_DOWNLOADS_PATH=./downloads

# ===========================================
# CDP连接配置
# ===========================================

# 是否连接到现有浏览器 (true/false)
BROWSER_CONNECT_TO_USER_BROWSER=false

# 连接模式 (smart/direct)
BROWSER_CONNECTION_MODE=smart

# 调试主机地址
BROWSER_DEBUG_HOST=localhost

# 调试端口
BROWSER_DEBUG_PORT=9222

# 是否自动关闭浏览器 (true/false)
BROWSER_AUTO_CLOSE=true

# 反检测模式 (true/false)
BROWSER_STEALTH_MODE=true

# 最大化窗口 (true/false)
BROWSER_MAXIMIZED=false

# 全屏模式 (true/false)
BROWSER_FULLSCREEN=false

# 启用GPU加速 (true/false)
BROWSER_ENABLE_GPU=true

# Kiosk模式 (true/false)
BROWSER_KIOSK_MODE=false

# ===========================================
# 代理配置
# ===========================================

# 最大执行步数
AGENT_MAX_STEPS=50

# 每步最大操作数
AGENT_MAX_ACTIONS_PER_STEP=3

# 是否使用视觉功能 (true/false)
AGENT_USE_VISION=true

# 是否重试失败的操作 (true/false)
AGENT_RETRY_FAILED_ACTIONS=true

# 最大重试次数
AGENT_MAX_RETRIES=2

# 重试延迟 (毫秒)
AGENT_RETRY_DELAY=500

# ===========================================
# 功能配置
# ===========================================

# 启用记忆功能 (true/false)
AGENT_ENABLE_MEMORY=true

# 记忆容量
AGENT_MEMORY_SIZE=1000

# 启用规划功能 (true/false)
AGENT_ENABLE_PLANNING=true

# 规划步数
AGENT_PLANNING_STEPS=10

# 启用反思功能 (true/false)
AGENT_ENABLE_REFLECTION=true

# 反思间隔
AGENT_REFLECTION_INTERVAL=5

# 启用错误恢复 (true/false)
AGENT_ENABLE_ERROR_RECOVERY=true

# 启用性能监控 (true/false)
AGENT_ENABLE_PERFORMANCE_MONITORING=true

# 错误时截图 (true/false)
AGENT_ENABLE_SCREENSHOT_ON_ERROR=true

# 启用操作验证 (true/false)
AGENT_ENABLE_ACTION_VALIDATION=true

# ===========================================
# 日志配置
# ===========================================

# 日志级别 (debug/info/warn/error)
LOG_LEVEL=info

# 调试模式 (true/false)
DEBUG=false

# 日志文件路径 (可选)
# LOG_FILE=./logs/sentra-auto.log

# ===========================================
# 网络配置 (可选)
# ===========================================

# HTTP代理设置
# HTTP_PROXY=http://proxy:8080
# HTTPS_PROXY=https://proxy:8080

# 代理认证
# PROXY_USERNAME=username
# PROXY_PASSWORD=password

# 浏览器代理服务器
# BROWSER_PROXY_SERVER=http://proxy:8080
# BROWSER_PROXY_USERNAME=username
# BROWSER_PROXY_PASSWORD=password

# ===========================================
# 性能优化配置
# ===========================================

# DOM缓存大小
DOM_CACHE_SIZE=1000

# 截图质量 (0-100)
SCREENSHOT_QUALITY=80

# 截图格式 (png/jpeg/webp)
SCREENSHOT_FORMAT=png

# 页面加载超时 (毫秒)
PAGE_LOAD_TIMEOUT=30000

# 元素等待超时 (毫秒)
ELEMENT_WAIT_TIMEOUT=10000

# 截图格式 (png/jpeg)
SCREENSHOT_FORMAT=png

# 并发限制
MAX_CONCURRENT_OPERATIONS=3

# 浏览器慢动作延迟 (毫秒)
BROWSER_SLOW_MO=0

# 开发者工具 (true/false)
BROWSER_DEVTOOLS=false

# 忽略HTTPS错误 (true/false)
BROWSER_IGNORE_HTTPS_ERRORS=false

# ===========================================
# 安全配置
# ===========================================

# 允许的域名列表 (逗号分隔)
# ALLOWED_DOMAINS=example.com,test.com

# 禁止的域名列表 (逗号分隔)
# BLOCKED_DOMAINS=malicious.com,spam.com

# 启用安全模式 (true/false)
SECURITY_MODE=false

# ===========================================
# 开发配置
# ===========================================

# 开发模式 (true/false)
DEV_MODE=false

# 保存执行历史 (true/false)
SAVE_EXECUTION_HISTORY=true

# 历史文件路径
EXECUTION_HISTORY_PATH=./history

# 启用详细错误信息 (true/false)
VERBOSE_ERRORS=true